(()=>{"use strict";function e(){const e=document.body;let n=document.querySelector(".dialog-div");if(console.log("Button clicked"),n)n.classList.remove("hidden");else{n=document.createElement("div"),n.classList.add("dialog-div");const d=document.createElement("div");d.classList.add("prompt-container"),n.append(d);const c=document.createElement("div");c.classList.add("dialog-head"),c.innerText="Create New Category",d.appendChild(c);const a=document.createElement("div");a.classList.add("prompt-text"),a.innerText="Enter Name",d.appendChild(a);const s=document.createElement("input");s.classList.add("name-input"),d.appendChild(s);const o=document.createElement("button");o.classList.add("submit-button"),o.innerText="+",d.appendChild(o),o.addEventListener("click",t),e.appendChild(n),console.log("Created Dialog box")}}function t(){const e=document.querySelector(".name-input");d(e.value),e.value="",document.querySelector(".dialog-div").classList.add("hidden"),document.querySelectorAll(".new-category").forEach((function(e){const t=e.id;e.addEventListener("click",(function(){c(t),function(){const e=document.querySelectorAll(".new-category"),t=document.querySelectorAll(".unique-space");e.forEach((e=>{e.addEventListener("click",(()=>{const n=e.id;t.forEach((e=>{e.classList.add("hidden")}));const d=document.querySelector(`.unique-space#${n}`);d&&d.classList.remove("hidden")}))}))}()}))}))}document.querySelector(".mainframe"),document.querySelector("category-container");let n=[];function d(t){const d=t.replace(/\s+/g,"-"),c={id:d,name:t};n.push(c);const s=document.querySelector(".categories");let o=s.querySelector(".category-container");o||(o=document.createElement("ul"),o.classList.add("category-container"),o.setAttribute("data-lists",""),s.appendChild(o));const i=document.createElement("li");i.innerText=t,i.classList.add("new-category"),i.setAttribute("id",d),e();const l=document.createElement("button");l.innerText="X",l.classList.add("delete-button"),i.appendChild(l),o.appendChild(i),a()}function c(e){const t=document.querySelector(".task-space");if(t.querySelector(`.unique-space.${e}`))return;const d=document.createElement("div");d.classList.add("unique-space"),d.classList.add("hidden"),d.setAttribute("id",`${e}`),d.classList.add(e),t.appendChild(d);const c=document.createElement("div");c.classList.add("category-heading"),c.innerText=e,d.appendChild(c);const s=document.createElement("button"),o=document.createElement("div");o.classList.add("button-div"),s.classList.add("add-button"),s.classList.add("space-button"),s.innerText="+";const i=document.createElement("div"),l=document.createElement("input");l.classList.add("task-input"),i.appendChild(l),d.appendChild(o),o.appendChild(i),o.appendChild(s);const r=document.createElement("ul");r.classList.add("tasks-list"),r.classList.add(`${e}`),d.appendChild(r);const u=n.findIndex((t=>t.name===e));if(-1!==u){const e=n[u];e.tasks||(e.tasks=[]),s.addEventListener("click",(()=>{const t=l.value.trim();if(t){const n={id:Date.now(),text:t};e.tasks.push(n),a();const d=document.createElement("li");d.classList.add("task-item");const c=document.createElement("input");c.type="checkbox",c.name="task-options",d.appendChild(c);const s=document.createElement("label");s.classList.add("label-for-task"),s.textContent=n.text,d.appendChild(s),r.appendChild(d);const o=document.createElement("button");o.innerText="X",o.classList.add("task-delete-button"),d.appendChild(o),l.value=""}}))}else{const t={id:e,name:e,tasks:[]};n.push(t),s.addEventListener("click",(()=>{const e=l.value.trim();if(e){const n={id:Date.now(),text:e};t.tasks.push(n);const d=document.createElement("li");d.classList.add("task-item");const c=document.createElement("input");c.type="checkbox",c.name="task-options",d.appendChild(c);const a=document.createElement("label");a.classList.add("label-for-task"),a.textContent=n.text,d.appendChild(a),r.appendChild(d);const s=document.createElement("button");s.innerText="X",s.classList.add("task-delete-button"),d.appendChild(s),l.value=""}}))}}function a(){try{const e=localStorage.getItem("lists"),t=e?JSON.parse(e):[];t.forEach((e=>{const t=n.find((t=>t.id===e.id));t&&(e.name=t.name)}));const d=[...t,...n.filter((e=>!t.some((t=>t.id===e.id))))],c=JSON.stringify(d);localStorage.setItem("lists",c),console.log("Saved lists to localStorage:",d)}catch(e){console.error("Error saving lists to localStorage:",e)}}console.log("I'm making a To-Do App"),function(){try{const e=localStorage.getItem("lists");e&&(n=JSON.parse(e),console.log("Loaded lists from local storage:",n))}catch(e){console.error("Error loading lists from localStorage:",e)}}(),function e(){const t=document.querySelector(".content"),n=document.createElement("div");n.classList.add("sidebar");const d=document.createElement("div");return d.classList.add("mainframe"),t.appendChild(n),t.appendChild(d),e}(),function(){const e=document.querySelector(".sidebar"),t=document.createElement("div");t.classList.add("categories"),e.appendChild(t)}(),function(){const t=document.querySelector(".categories"),n=document.createElement("div");n.classList.add("categorybar"),t.appendChild(n);const d=document.createElement("div");d.classList.add("bar-heading"),d.innerText="Categories",n.appendChild(d);const c=document.createElement("button");c.classList.add("add-button"),c.innerText="+",n.appendChild(c),c.addEventListener("click",e),console.log("fes")}(),function(){const e=document.querySelector(".mainframe"),t=document.createElement("div");t.classList.add("main-bar"),e.appendChild(t);const n=document.createElement("div");n.classList.add("bar-heading"),n.innerText="ADD TASK",t.appendChild(n);const d=document.createElement("button");d.classList.add("add-button"),d.classList.add("task-button"),d.innerText="+",t.appendChild(d);const c=document.createElement("div");c.classList.add("task-space"),e.appendChild(c)}(),n.forEach((e=>{d(e.name)})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".new-category").forEach((function(e){const t=e.id;e.addEventListener("click",(function(){c(t)}))}))}))})();