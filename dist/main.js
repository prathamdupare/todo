(()=>{"use strict";function e(){const e=document.body;let n=document.querySelector(".dialog-div");if(console.log("Button clicked"),n)n.classList.remove("hidden");else{n=document.createElement("div"),n.classList.add("dialog-div");const a=document.createElement("div");a.classList.add("prompt-container"),n.append(a);const c=document.createElement("div");c.classList.add("dialog-head"),c.innerText="Create New Category",a.appendChild(c);const d=document.createElement("div");d.classList.add("prompt-text"),d.innerText="Enter Name",a.appendChild(d);const s=document.createElement("input");s.classList.add("name-input"),a.appendChild(s);const o=document.createElement("button");o.classList.add("submit-button"),o.innerText="+",a.appendChild(o),o.addEventListener("click",t),e.appendChild(n),console.log("Created Dialog box")}}function t(){const e=document.querySelector(".name-input");a(e.value),e.value="",document.querySelector(".dialog-div").classList.add("hidden"),document.querySelectorAll(".new-category").forEach((function(e){const t=e.id;e.addEventListener("click",(function(){c(t),function(){const e=document.querySelectorAll(".new-category"),t=document.querySelectorAll(".unique-space");e.forEach((e=>{e.addEventListener("click",(()=>{const n=e.id;t.forEach((e=>{e.classList.add("hidden")}));const a=document.querySelector(`.unique-space#${n}`);a&&a.classList.remove("hidden")}))}))}()}))}))}document.querySelector(".mainframe"),document.querySelector("category-container");let n=[{name:"Work",tasks:["Make Spreadsheet","Presentation","The ODIN Project"]},{name:"Personal",tasks:["Go to Gym","Prepare for Test","Make a new website","Learn Javascript"]}];function a(t){const a=t.replace(/\s+/g,"-"),c={id:a,name:t};n.push(c);const s=document.querySelector(".categories");let o=s.querySelector(".category-container");o||(o=document.createElement("ul"),o.classList.add("category-container"),o.setAttribute("data-lists",""),s.appendChild(o));const i=document.createElement("li");i.innerText=t,i.classList.add("new-category"),i.setAttribute("id",a),e();const l=document.createElement("button");l.innerText="X",l.classList.add("delete-button"),i.appendChild(l),o.appendChild(i),d()}function c(e){const t=document.querySelector(".task-space");if(t.querySelector(`.unique-space.${e}`))return;const a=document.createElement("div");a.classList.add("unique-space"),a.classList.add("hidden"),a.setAttribute("id",`${e}`),a.classList.add(e),t.appendChild(a);const c=document.createElement("div");c.classList.add("category-heading"),c.innerText=e,a.appendChild(c);const s=document.createElement("button"),o=document.createElement("div");o.classList.add("button-div"),s.classList.add("add-button"),s.classList.add("space-button"),s.innerText="+";const i=document.createElement("div"),l=document.createElement("input");l.classList.add("task-input"),l.placeholder="Add a Task..",i.appendChild(l),a.appendChild(o),o.appendChild(i),o.appendChild(s);const r=document.createElement("ul");r.classList.add("tasks-list"),r.classList.add(`${e}`),a.appendChild(r);const u=n.findIndex((t=>t.name===e));if(-1!==u){const e=n[u];e.tasks||(e.tasks=[]),s.addEventListener("click",(()=>{const t=l.value.trim();if(t){const n={id:Date.now(),text:t};e.tasks.push(n),d();const a=document.createElement("li");a.classList.add("task-item");const c=document.createElement("input");c.type="checkbox",c.name="task-options",a.appendChild(c);const s=document.createElement("label");s.classList.add("label-for-task"),s.textContent=n.text,a.appendChild(s),r.appendChild(a);const o=document.createElement("button");o.innerText="X",o.classList.add("task-delete-button"),a.appendChild(o),l.value=""}d()}))}else{const t={id:e,name:e,tasks:[]};n.push(t),s.addEventListener("click",(()=>{const e=l.value.trim();if(e){const n={id:Date.now(),text:e};t.tasks.push(n);const a=document.createElement("li");a.classList.add("task-item");const c=document.createElement("input");c.type="checkbox",c.name="task-options",a.appendChild(c);const d=document.createElement("label");d.classList.add("label-for-task"),d.textContent=n.text,a.appendChild(d),r.appendChild(a);const s=document.createElement("button");s.innerText="X",s.classList.add("task-delete-button"),a.appendChild(s),l.value=""}}))}d()}function d(){try{const e=localStorage.getItem("lists"),t=e?JSON.parse(e):[];t.forEach((e=>{const t=n.find((t=>t.id===e.id));t&&(e.name=t.name)}));const a=[...t,...n.filter((e=>!t.some((t=>t.id===e.id))))],c=JSON.stringify(a);localStorage.setItem("lists",c),console.log("Saved lists to localStorage:",a)}catch(e){console.error("Error saving lists to localStorage:",e)}}console.log("I'm making a To-Do App"),function(){try{const e=localStorage.getItem("lists");e&&(n=JSON.parse(e),console.log("Loaded lists from local storage:",n))}catch(e){console.error("Error loading lists from localStorage:",e)}}(),function e(){const t=document.querySelector(".content"),n=document.createElement("div");n.classList.add("sidebar");const a=document.createElement("div");return a.classList.add("mainframe"),t.appendChild(n),t.appendChild(a),e}(),function(){const e=document.querySelector(".sidebar"),t=document.createElement("div");t.classList.add("categories"),e.appendChild(t)}(),function(){const t=document.querySelector(".categories"),n=document.createElement("div");n.classList.add("categorybar"),t.appendChild(n);const a=document.createElement("div");a.classList.add("bar-heading"),a.innerText="Categories",n.appendChild(a);const c=document.createElement("button");c.classList.add("add-button"),c.innerText="+",n.appendChild(c),c.addEventListener("click",e),console.log("fes")}(),function(){const e=document.querySelector(".mainframe"),t=document.createElement("div");t.classList.add("main-bar"),e.appendChild(t);const n=document.createElement("div");n.classList.add("bar-heading"),n.innerText="ADD TASK",t.appendChild(n);const a=document.createElement("button");a.classList.add("add-button"),a.classList.add("task-button"),a.innerText="+",t.appendChild(a);const c=document.createElement("div");c.classList.add("task-space"),e.appendChild(c)}(),n.forEach((e=>{a(e.name),function(e,t){const n=document.querySelector(".task-space");n.querySelector(`.unique-space.${e}`)||c(e);const a=n.querySelector(`.unique-space.${e} .tasks-list`);a&&t.forEach((e=>{const t=document.createElement("li");t.classList.add("task-item");const n=document.createElement("input");n.type="checkbox",n.name="task-options",t.appendChild(n);const c=document.createElement("label");c.classList.add("label-for-task"),c.textContent=e,t.appendChild(c),a.appendChild(t);const d=document.createElement("button");d.innerText="X",d.classList.add("task-delete-button"),t.appendChild(d)}))}(e.name,e.tasks)})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".new-category").forEach((function(e){const t=e.id;e.addEventListener("click",(function(){c(t)}))}))}))})();