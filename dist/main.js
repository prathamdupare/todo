(()=>{"use strict";function e(){const e=document.body;let n=document.querySelector(".dialog-div");if(console.log("Button clicked"),n)n.classList.remove("hidden");else{n=document.createElement("div"),n.classList.add("dialog-div");const c=document.createElement("div");c.classList.add("prompt-container"),n.append(c);const d=document.createElement("div");d.classList.add("dialog-head"),d.innerText="Create New Category",c.appendChild(d);const a=document.createElement("div");a.classList.add("prompt-text"),a.innerText="Enter Name",c.appendChild(a);const s=document.createElement("input");s.classList.add("name-input"),c.appendChild(s);const o=document.createElement("button");o.classList.add("submit-button"),o.innerText="+",c.appendChild(o),o.addEventListener("click",t),e.appendChild(n),console.log("Created Dialog box")}}function t(){const e=document.querySelector(".name-input");c(e.value),e.value="",document.querySelector(".dialog-div").classList.add("hidden"),document.querySelectorAll(".new-category").forEach((function(e){const t=e.id;e.addEventListener("click",(function(){d(t),function(){const e=document.querySelectorAll(".new-category"),t=document.querySelectorAll(".unique-space");e.forEach((e=>{e.addEventListener("click",(()=>{const n=e.id;t.forEach((e=>{e.classList.add("hidden")}));const c=document.querySelector(`.unique-space#${n}`);c&&c.classList.remove("hidden")}))}))}()}))}))}document.querySelector(".mainframe"),document.querySelector("category-container");let n=[];function c(t){const c=t.replace(/\s+/g,"-"),d={id:c,name:t};n.push(d);const s=document.querySelector(".categories");let o=s.querySelector(".category-container");o||(o=document.createElement("ul"),o.classList.add("category-container"),o.setAttribute("data-lists",""),s.appendChild(o));const i=document.createElement("li");i.innerText=t,i.classList.add("new-category"),i.setAttribute("id",c),e();const l=document.createElement("button");l.innerText="X",l.classList.add("delete-button"),i.appendChild(l),o.appendChild(i),console.log(n),a()}function d(e){const t=document.querySelector(".task-space");if(t.querySelector(`.unique-space.${e}`))return;const c=document.createElement("div");c.classList.add("unique-space"),c.classList.add("hidden"),c.setAttribute("id",`${e}`),c.classList.add(e),t.appendChild(c);const d=document.createElement("div");d.classList.add("category-heading"),d.innerText=e,c.appendChild(d);const s=document.createElement("button"),o=document.createElement("div");o.classList.add("button-div"),s.classList.add("add-button"),s.classList.add("space-button"),s.innerText="+";const i=document.createElement("div"),l=document.createElement("input");l.classList.add("task-input"),i.appendChild(l),c.appendChild(o),o.appendChild(i),o.appendChild(s);const r=document.createElement("ul");r.classList.add("tasks-list"),r.classList.add(`${e}`),c.appendChild(r);const u=n.findIndex((t=>t.name===e));if(-1!==u){const e=n[u];e.tasks||(e.tasks=[]),s.addEventListener("click",(()=>{const t=l.value.trim();if(t){const c={id:Date.now(),text:t};e.tasks.push(c),console.log(n),a();const d=document.createElement("li");d.classList.add("task-item");const s=document.createElement("input");s.type="checkbox",s.name="task-options",d.appendChild(s);const o=document.createElement("label");o.classList.add("label-for-task"),o.textContent=c.text,d.appendChild(o),r.appendChild(d);const i=document.createElement("button");i.innerText="X",i.classList.add("task-delete-button"),d.appendChild(i),l.value=""}}))}else{const t={id:e,name:e,tasks:[]};n.push(t),s.addEventListener("click",(()=>{const e=l.value.trim();if(e){const c={id:Date.now(),text:e};t.tasks.push(c),console.log(n),a();const d=document.createElement("li");d.classList.add("task-item");const s=document.createElement("input");s.type="checkbox",s.name="task-options",d.appendChild(s);const o=document.createElement("label");o.classList.add("label-for-task"),o.textContent=c.text,d.appendChild(o),r.appendChild(d);const i=document.createElement("button");i.innerText="X",i.classList.add("task-delete-button"),d.appendChild(i),l.value=""}}))}}function a(){try{const e=localStorage.getItem("lists"),t=e?JSON.parse(e):[];t.forEach((e=>{const t=n.find((t=>t.id===e.id));t&&(e.name=t.name)}));const c=[...t,...n.filter((e=>!t.some((t=>t.id===e.id))))],d=JSON.stringify(c);localStorage.setItem("lists",d),console.log("Saved lists to localStorage:",c)}catch(e){console.error("Error saving lists to localStorage:",e)}}console.log("I'm making a To-Do App"),function(){try{const e=localStorage.getItem("lists");e&&(n=JSON.parse(e),n.forEach((e=>{e.tasks||(e.tasks=[])})))}catch(e){console.error("Error loading lists from localStorage:",e)}}(),function e(){const t=document.querySelector(".content"),n=document.createElement("div");n.classList.add("sidebar");const c=document.createElement("div");return c.classList.add("mainframe"),t.appendChild(n),t.appendChild(c),e}(),function(){const e=document.querySelector(".sidebar"),t=document.createElement("div");t.classList.add("categories"),e.appendChild(t)}(),function(){const t=document.querySelector(".categories"),n=document.createElement("div");n.classList.add("categorybar"),t.appendChild(n);const c=document.createElement("div");c.classList.add("bar-heading"),c.innerText="Categories",n.appendChild(c);const d=document.createElement("button");d.classList.add("add-button"),d.innerText="+",n.appendChild(d),d.addEventListener("click",e),console.log("fes")}(),function(){const e=document.querySelector(".mainframe"),t=document.createElement("div");t.classList.add("main-bar"),e.appendChild(t);const n=document.createElement("div");n.classList.add("bar-heading"),n.innerText="ADD TASK",t.appendChild(n);const c=document.createElement("button");c.classList.add("add-button"),c.classList.add("task-button"),c.innerText="+",t.appendChild(c);const d=document.createElement("div");d.classList.add("task-space"),e.appendChild(d)}(),n.forEach((e=>{c(e.name)})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".new-category").forEach((function(e){const t=e.id;e.addEventListener("click",(function(){d(t)}))}))}))})();